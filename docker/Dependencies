FROM ubuntu:22.10

RUN apt-get --allow-unauthenticated update && apt-get --allow-unauthenticated install --yes gnupg2 software-properties-common 
RUN add-apt-repository ppa:ubuntugis/ppa && apt-get --allow-unauthenticated update
RUN DEBIAN_FRONTEND=noninteractive apt-get --allow-unauthenticated install --yes python3-pip curl libsqlite3-mod-spatialite default-jre wget git gdal-bin libgdal-dev
RUN pip3 install breathe numpy pandas scikit-learn rasterio matplotlib scikit-image geoalchemy2 spatialite setuptools pytest shapely click jinja2 gdal pypyr s2cloudless pyreproj && pip3 install tensorflow
RUN wget https://step.esa.int/downloads/8.0/installers/esa-snap_sentinel_unix_8_0.sh && yes "" | sh esa-snap_sentinel_unix_8_0.sh
RUN wget https://step.esa.int/thirdparties/sen2cor/2.10.0/Sen2Cor-02.10.01-Linux64.run && sh Sen2Cor-02.10.01-Linux64.run
